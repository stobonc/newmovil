{"version":3,"sources":["webpack:///./src/app/global/pages/truckservices/truckservices.module.ts","webpack:///./src/app/global/pages/truckservices/truckservices.page.html","webpack:///./src/app/global/pages/truckservices/truckservices.page.scss","webpack:///./src/app/global/pages/truckservices/truckservices.page.ts"],"names":[],"mappings":"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","file":"truckservices-truckservices-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TruckservicesPage } from './truckservices.page';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TruckservicesPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n   \n    RouterModule.forChild(routes)\n  ],\n\n  declarations: [TruckservicesPage]\n})\nexport class TruckservicesPageModule {}\n","module.exports = \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button  defaultHref=\\\"/inicio\\\" (click)=\\\"ngOnDestroy\\\"></ion-back-button><font size=\\\"1px\\\">Atras</font>\\n      </ion-buttons>\\n      <ion-title><font size=\\\"4px\\\">Solicitudes Pendientes</font></ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n<ion-content>\\n<form>\\n  <ion-list> \\n    <div *ngFor=\\\"let data of dataServicios; let i=index\\\">        \\n     <div *ngIf=\\\"data.estatus==0\\\">\\n       <ion-card>\\n        <ion-badge>{{i+1}}</ion-badge>\\n         <ion-item>\\n             <ion-label class=\\\"ion-text-wrap\\\">    \\n               <p><strong><font size=\\\"2px\\\" color=\\\"Black\\\">Origen:</font></strong><font size=\\\"2px\\\">{{data.origenServ}}</font></p>\\n               <hr align=\\\"center\\\" color=\\\"primary\\\" size=\\\"3\\\" width=\\\"80%\\\" />\\n               <p><strong><font size=\\\"2px\\\" color=\\\"Black\\\">Destino:</font></strong><font size=\\\"2px\\\">{{data.destinoServ}}</font></p>  \\n               <ion-label>Serv A: {{data.distancia}} km</ion-label>\\n             </ion-label> \\n             <ion-chip>\\n               <ion-avatar>\\n                 <img src=\\\"https://img.atrisoluciones.com.co/img/BotonAceptar.png\\\">\\n               </ion-avatar>\\n               <ion-label (click)=\\\"Ir_a(data)\\\" color=\\\"primary\\\"><font size=\\\"px\\\">Aceptar</font></ion-label>\\n             </ion-chip>\\n       </ion-item>\\n     </ion-card> \\n     </div>\\n    </div>\\n   </ion-list>\\n  </form>\\n    </ion-content>\\n\"","module.exports = \".color {\\n  background: #E0FFFF; }\\n\\n.h6 {\\n  color: black;\\n  font-size: 11px; }\\n\\n.colorRow {\\n  background: rgba(253, 253, 253, 0.637); }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ2xvYmFsL3BhZ2VzL3RydWNrc2VydmljZXMvRDpcXFByb3llY3Rvcy1Jb25pY1xcQXBwRW50cmVnYXMvc3JjXFxhcHBcXGdsb2JhbFxccGFnZXNcXHRydWNrc2VydmljZXNcXHRydWNrc2VydmljZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0EsbUJBQW1CLEVBQUE7O0FBRW5CO0VBQ0ksWUFBVztFQUNYLGVBQWUsRUFBQTs7QUFFakI7RUFDRSxzQ0FBcUMsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2dsb2JhbC9wYWdlcy90cnVja3NlcnZpY2VzL3RydWNrc2VydmljZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbG9ye1xyXG5iYWNrZ3JvdW5kOiAjRTBGRkZGO1xyXG59XHJcbi5oNiB7XHJcbiAgICBjb2xvcjpibGFjaztcclxuICAgIGZvbnQtc2l6ZTogMTFweDtcclxuICB9XHJcbiAgLmNvbG9yUm93e1xyXG4gICAgYmFja2dyb3VuZDpyZ2JhKDI1MywgMjUzLCAyNTMsIDAuNjM3KTtcclxuICAgIFxyXG4gIH1cclxuIl19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Plugins } from '@capacitor/core';\nimport { FormBuilder,FormGroup, Validators } from '@angular/forms';\nimport { HttpHeaders ,HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Router, NavigationExtras } from '@angular/router';\nimport { NavController, AlertController } from '@ionic/angular';\nimport { async } from '@angular/core/testing';\nconst { Geolocation,Geoposition } = Plugins;\n\n\n@Component({\n  selector: 'app-truckservices',\n  templateUrl: './truckservices.page.html',\n  styleUrls: ['./truckservices.page.scss'],\n})\nexport class TruckservicesPage {\n  lat:number\n  lng:number\n  total:string\n  formgroup:FormGroup;\n  submitted=false; \n  geocoder: any;\n  dataServicios:any[]=[];\n  data: any;\n  medidas:any;\n  \n \n  constructor(public formBuilder:FormBuilder,public HttpClient:HttpClient, \n    private router:Router,public navCtrl: NavController,private alertController:AlertController) { \n \n  }\n\n \n  ngOnInit() {\n  this.ionViewDidEnter();\n   \n  }\n  ionViewDidEnter(){\n    this.formgroup = this.formBuilder.group({\n      //descripcionServ:['',[Validators.required,Validators.minLength(6)]]\n           \n        }, {});\n        this.getGeolocation();\n  }\n  async onSubmit(): Promise<void>{\n    this.submitted = true;\n\n    if (this.formgroup.invalid) {\n      return;\n     }\n\n     //let url:string=\"https://atrisoluciones.com.co/api/servicios\";\n    let url:string=\"https://atrisoluciones.com.co/api/truckservices\";\n\n      var headers = new HttpHeaders();\n      headers.append(\"Accept\", 'application/json');\n      headers.append('Content-Type', 'application/json');\n      headers.append('Access-Control-Allow-Origin', '*');\n      headers.append('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');\n      headers.append('Access-Control-Allow-Headers', 'x-id');\n\n\n      let dataPost={\n          'latitudActual':this.lat,\n          'longitudActual':this.lng,\n          'estatus':'0',\n     \n          };\n\n        let data:Observable<any>= this.HttpClient.post(url,dataPost,{headers:headers,responseType: 'text'})\n        data.subscribe(async data=>{\n         // console.log(dataPost);\n          this.dataServicios=JSON.parse(data);\n         console.log(this.dataServicios.length);\n     //  console.log(this.dataServicios);\n        },(err: HttpErrorResponse) => {\n          if (err.error instanceof Error) {\n           //we never seem to get here\n            console.log('An error occurred:', err.error.message);\n          } else {\n           //no network connection, HTTP404, HTTP500, HTTP200 & invalid JSON\n            console.log(`Backend returned code ${err.status}, body was: ${err.error}`);\n          }\n        });\n}\n\n  async getGeolocation(){\n    try{\n        const position = await Geolocation.getCurrentPosition();\n        console.log(position);\n    \n        this.lat = position.coords.latitude;\n        this.lng = position.coords.longitude;\n\n        var lng1=Number(-74.778547);\n        var lat1=Number(7.203511);\n        var latlng={lat:lat1,lng:lng1};\n \n      }catch(error){\n\n      const ubicacion =error['code'];\n\n      if(ubicacion ===2){\n          const alert = await this.alertController.create({\n          header:'GPS',\n          message:'No se puede obtener su ubicación de GPS, favor validar si esta activada el GPS y si tiene conexion a Internet',\n          buttons:['Ok']\n          \n          });\n          this.router.navigateByUrl('/inicio');\n          await alert.present();\n\n        }else{\n              this.geocoder = new google.maps.Geocoder();\n              this.geocoder.geocode({'location': latlng}, (results,status)=> {\n          \n                if (status === google.maps.GeocoderStatus.OK) { \n              \n                /*console.log(results[0]);\n                console.log(results['0']['address_components']['3']['long_name']);\n                console.log(results['0']['address_components']['6']['long_name']);\n                console.log(results['0']['address_components']['5']['long_name']);*/\n\n              } else {\n                window.alert('La geolocalización ha fallado debido a: ' + status);\n                }\n            }); \n\n        }\n        \n        }\n\n    this.onSubmit();\n  }\n\n public Ir_a(event){\n\n  \n\n  if(event.tipoServicio==1){\n\n    this.medidas=`|| Largo: ${event.largoCms} -Cms. || Ancho: ${event.anchoCms} -Cms. || Alto: ${event.altoCms} -Cms. || Cantidad: ${event.cantidadUnd} -Cajas. || Peso: ${event.pesoKg} -Kg || Valor Declarado: $${event.valorDeclarado} ||`\n  \n  }else{\n    if(event.tipoServicio==2){\n      this.medidas=`|| Cantidad: ${event.cantidadUnd} -Cajas. || Peso: ${event.pesoKg} -Kg || Valor Declarado: $${event.valorDeclarado} ||`\n    }else{\n      this.medidas=`|| Valor Declarado: $${event.valorDeclarado} ||`\n      \n    }\n  }\n\n \n    this.data={\n    'created_at': event.created_at,\n    'descripcionServ': event.descripcionServ,\n    'destinoLatitud': event.destinoLatitud,\n    'destinoLongitud': event.destinoLongitud,\n    'destinoServ': event.destinoServ,\n    'distancia': event.distancia,\n    'distanciaServicio': event.distanciaServicio,\n    'id': event.id,\n    'valorDeclarado':event.valorDeclarado, \n    'origenLatitud': event.origenLatitud,\n    'origenLongitud': event.origenLongitud,\n    'origenServ': event.origenServ,\n    'largo':event.largoCms,\n    'medidas':this.medidas,\n    'tipoServicio':event.tipoServicio,\n    'estatus':event.estatus\n    }\n\n  const extras:NavigationExtras={\n      queryParams:{\n        data: JSON.stringify(this.data),\n      }\n\n  };\n\n \n    this.router.navigate(['/viewservices'],extras);\n    this.ngOnDestroy();\n\n  }\n  ngOnDestroy(){\n  \n  }\n}\n"],"sourceRoot":""}