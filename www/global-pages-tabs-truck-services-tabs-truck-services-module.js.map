{"version":3,"sources":["webpack:///./src/app/global/pages/tabs-truck-services/tabs-truck-services.module.ts","webpack:///./src/app/global/pages/tabs-truck-services/tabs-truck-services.page.html","webpack:///./src/app/global/pages/tabs-truck-services/tabs-truck-services.page.scss","webpack:///./src/app/global/pages/tabs-truck-services/tabs-truck-services.page.ts"],"names":[],"mappings":"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","file":"global-pages-tabs-truck-services-tabs-truck-services-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TabsTruckServicesPage } from './tabs-truck-services.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TabsTruckServicesPage,\n    children:[\n      {\n      path:'truckservices',\n      loadChildren:'../truckservices/truckservices.module#TruckservicesPageModule',\n      },\n      {\n      path:'truckservruta',\n      loadChildren:'../truckservruta/truckservruta.module#TruckservrutaPageModule',\n    }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [TabsTruckServicesPage]\n})\nexport class TabsTruckServicesPageModule {}\n","module.exports = \"<ion-tabs>\\n  <ion-tab-bar slot=\\\"bottom\\\" color=\\\"primary\\\">\\n    <ion-tab-button tab=\\\"truckservices\\\">\\n      <ion-icon name=\\\"paper\\\"></ion-icon>\\n      <ion-label> <font color=\\\"white\\\">Servicios Pendientes:</font></ion-label>\\n      <ion-badge><font size=\\\"2px\\\">{{pendientes}}</font></ion-badge>\\n    </ion-tab-button>\\n\\n    \\n      <ion-tab-button tab=\\\"truckservruta\\\">\\n        <ion-icon name=\\\"pin\\\"></ion-icon>\\n        <ion-label> <font color=\\\"white\\\">Servicios en Ruta:</font></ion-label>\\n        <ion-badge><font size=\\\"2px\\\">{{enRuta}}</font></ion-badge>\\n      </ion-tab-button>\\n\\n    <ion-tab-button tab=\\\"speakers\\\">\\n      <ion-icon name=\\\"analytics\\\"></ion-icon>\\n      <ion-label><font color=\\\"white\\\">Historial:</font></ion-label>\\n      <ion-badge>20</ion-badge>\\n    </ion-tab-button>\\n  </ion-tab-bar>\\n</ion-tabs>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2dsb2JhbC9wYWdlcy90YWJzLXRydWNrLXNlcnZpY2VzL3RhYnMtdHJ1Y2stc2VydmljZXMucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { HttpParams, HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Plugins } from '@capacitor/core';\nimport { LoadingController } from '@ionic/angular';\n\nconst { Geolocation } = Plugins;\n\n@Component({\n  selector: 'app-tabs-truck-services',\n  templateUrl: './tabs-truck-services.page.html',\n  styleUrls: ['./tabs-truck-services.page.scss'],\n})\nexport class TabsTruckServicesPage implements OnInit {\n  dataServicios:any[]=[];\n  enRuta;\n  pendientes;\n  loadingElement: any;\n\n\n  constructor( public HttpClient:HttpClient,private loadingController: LoadingController) { }\n \n  ngOnInit(): void {\n  //  this.createLoader();\n   this.onSubmit();\n  }\n\n  async onSubmit(){\n\n    Geolocation.getCurrentPosition().then(position => {\n\n       const current_location = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n      //this.map.panTo(current_location);\n\n  \n\n     this.obtenerServicios(position.coords.latitude,position.coords.longitude);\n\n    }).catch((error) => {\n    //  console.log('Error getting current location', error);\n\n    }).finally(() => this.dismissLoader());\n\n\n\n  \n  }\n\n  async dismissLoader() {\n    if (this.loadingElement) {\n      await this.loadingElement.dismiss();\n    }\n  }\n async obtenerServicios(latitud,longitud){\n   \n    /********************************************************************************* */\n    let url:string=\"https://atrisoluciones.com.co/api/truckservices\";\n\n\n       const params = new HttpParams()\n       .set('enRuta','1')\n       .set('Pendientes','0')\n       .set('latitud',latitud)\n       .set('longitud',longitud)\n\n      // console.log(params.get('estatus'),params.get('tipo'));\n      let data:Observable<any>= this.HttpClient.get(url,{params})\n       data.subscribe(async data=>{\n        // console.log(dataPost);\n         this.dataServicios=(data);\n        console.log(this.dataServicios);\n        this.enRuta=this.dataServicios['enRuta'];\n        this.pendientes=this.dataServicios['pendientes'];\n\n       },(err: HttpErrorResponse) => {\n         if (err.error instanceof Error) {\n          //we never seem to get here\n         console.log('An error occurred:', err.error.message);\n         } else {\n          //no network connection, HTTP404, HTTP500, HTTP200 & invalid JSON\n          console.log(`Backend returned code ${err.status}, body was: ${err.error}`);\n         }\n       });\n    //   this.dataServicios= this.data.subscribe(data =>{this.dataServicios=data;});\n\n\n }\n}\n"],"sourceRoot":""}